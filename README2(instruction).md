# Инструкция
## Общие инстукции
В редакторе объекты фигур нужно создавать из префабов (из Assets/Mechanics/Prefabs).
+ AxisMoving - объект, который можно двигать по оси
+ Rotatable - объект, который можно вращать вокруг центра вращения
+ Gravitational - объект, который подвержен гравитации
+ FolowingPath - объект, слеующий по пути из точек

Префабы содержат дочерний объект parts, в который следует поместить 3D объекты составных частей фигуры (меш и коллайдер) и дочерний объект sandboxUI для интерфейса в режиме радактора.  
Для взаимодействия с фигурами используется "рука" (сфера с коллайдером-триггером). Ее следует соединить с VR контроллером с помощью предназначенного для этого поля в инспекторе. Также необходимо заменить клавишу удерживания объекта на курок контроллера. *(Сейчас для тестов с компьютера "рука" управляется клавишами WASDZX для движения и SHIFT(удерживание) для захвата объекта.)*
## Описание скриптов
[GrabHand](https://github.com/Yudjerick/Inversia/blob/master/Assets/Mechanics/Scripts/GrabHand.cs) - скрипт, для "руки", которой будут захватываться объекты. Сейчас для тестов с компьютера "рука" управляется клавишами WASDZX для движения и SHIFT(удерживание) для захвата объекта. При совмещении с VR позиция "руки" должна быть привязана к позиции VR контроллера, а вращение должно быть свободным.  
Поля в редакторе:
+ controllerVR - объект VR контроллера доджен быть помещен в это поле.
---
[ModeDependentBehaviour](https://github.com/Yudjerick/Inversia/blob/master/Assets/Mechanics/Scripts/ModeDependentBehaviour.cs) - все объекты, чье поведение на сцене зависит от режима, наследуются от этого класса. 
+ Поле inSandbox - статическое поле для текущего режима (true еcли включен режим редактора)
+ Методы OnSandboxEnable() и OnSandboxDisable вызываются соответственно при включении и отключении режима редактора. Для использования этих методов их нужно переопределить в дочернем класса и вызвать метод CallModeMethods() в Update() дочернего класса
---
[Interactable](https://github.com/Yudjerick/Inversia/blob/master/Assets/Mechanics/Scripts/Interactable.cs) - все объекты, с которыми можно взаимодействовать при помощи "руки", наследуются от этого класса.
Поля в редакторе:  
+ lockHandRotation - нужно ли заблокировать вращение руки при контакте с этим объектом (например для объекта вращающегося вокруг своего центра вращение должно быть разблокировано, а для подверженного гравитации заблокировано)
+ makeKinematic - нужно ли сделать объект кинематическим после отпускания (true для всех, кроме подверженного гравитации)
+ sandboxUI - объект с предполагаемым интерфейсом редактора (пока пустой объект), отключается при отключении режима редактора
+ pivot - сдвиг центра вращения объекта
---
[AxisConstraints2](https://github.com/Yudjerick/Inversia/blob/master/Assets/Mechanics/Scripts/AxisConstraints2.cs) - скрипт, обеспечивающий возможность перемещения объекта по выбранной оси с заданными ограничениями.  
Поля в редакторе: 
+ axis - ось, по которой объект сможет двигаться
+ minPos - минимальная позиция объекта по координате выбранной оси
+ maxPos - максимальная позиция объекта по координате выбранной оси
---
[ModeSwitcher](https://github.com/Yudjerick/Inversia/blob/master/Assets/Mechanics/Scripts/ModeSwitcher.cs) - обеспечивает смену режима по клавише M, прикреплен к пустому объекту

---
[FollowingPath](https://github.com/Yudjerick/Inversia/blob/master/Assets/Mechanics/Scripts/FollowingPath.cs) - скрипт объекта двигающегося по заданному маршруту из точек, с ним нельзя взаимодействовать при помощи "руки".  
Поля в редакторе:
+ speed - скорость движения
+ pathPoints - массив точек маршрута
